{% extends 'layout.html' %}

{% block content %}
    <h2>Dashboard Admin - Manajemen Menu</h2>

    <hr>
    <h3>Tambah Makanan Baru</h3>
    <form action="{{ url_for('add_food') }}" method="post">
        <label>Nama Makanan:</label><br>
        <input type="text" name="name" required><br><br>
        
        <label>Deskripsi:</label><br>
        <textarea name="description" required></textarea><br><br>
        
        <label>Harga:</label><br>
        <input type="number" name="price" required><br><br>

        <label>Kategori:</label><br>
        <select name="category" required>
            <option value="Makanan">Makanan</option>
            <option value="Minuman">Minuman</option>
            <option value="Cemilan">Cemilan</option>
        </select><br><br>
        
        <label>URL Gambar:</label><br>
        <input type="text" name="image_url" required><br><br>
        
        <button type="submit">Tambah Menu</button>
    </form>
    <hr>

    <h3>Daftar Menu Saat Ini</h3>
    <table border="1" width="100%">
        <thead>
            <tr>
                <th>Nama</th>
                <th>Harga</th>
                <th>Aksi</th>
            </tr>
        </thead>
        <tbody>
            {% for food in foods %}
            <tr>
                <td>{{ food.name }}</td>
                <td>Rp {{ "{:,.0f}".format(food.price) }}</td>
                <td>
                    <a href="{{ url_for('edit_food', food_id=food._id) }}">Edit</a> |
                    <form action="{{ url_for('delete_food', food_id=food._id) }}" method="post" style="display:inline;">
                        <button type="submit" onclick="return confirm('Anda yakin ingin menghapus menu ini?')">Hapus</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}